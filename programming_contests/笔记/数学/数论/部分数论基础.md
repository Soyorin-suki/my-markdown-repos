# 费马小定理
当p是质数时：
$$x^{p-1}\equiv 1\pmod p$$

# 威尔逊定理
对任意整数$n>1，(n-1)!\equiv-1\pmod n$成立当且仅当$n$是质数

也就是
当p是质数时：
$$(p-1)!\equiv -1\pmod p$$
当n不是质数时：
$$(n-1)!\not\equiv -1\pmod n$$

证明参考：https://zhuanlan.zhihu.com/p/349304172

直观上： 这里仅考虑n是质数的情况，此时，对于除去1和n-1外的所有数，都会与其逆元相乘，因此等于1，而1和n-1的逆元是其自身，因此只剩下了1*(n-1)
# 欧拉定理和欧拉函数
对于任意一个正整数n，定义$\phi (n)$是不超过$n$的与其互质的数的个数，称为欧拉函数

## 如何求欧拉函数
当$n$是质数时，$\phi(n)=n-1$；
当$n=p^k$时，$\phi(n)=p^k-p^{k-1}$;
当$n=ab,\gcd(a,b)=1$时，$\phi(n)=\phi(a)\phi(b)$

证明省略
## 欧拉定理
$a^{\phi(m)}\equiv 1\pmod m,\gcd(a,m)=1$ 这里$a$和$m$互质是必要的

费马小定理可以视作欧拉定理的一种特殊情况，证明省略

可以用来进行大指数取模，例如：
$$a^b\equiv a^{b\mod \phi(m)}\pmod m$$
将大指数b规约到m的范畴，需要注意的是a和m一定要互质，在不互质的情况下需要使用拓展欧拉定理

## 拓展欧拉定理
$$
a^b\equiv
\begin{cases}
a^b\pmod m,&b<\phi(m),\\
a^{(b\bmod \phi(m)) +\phi(m)}\pmod m,&b>=\phi(m).
\end{cases}
$$

注意这里的第二种情况一定要是$b>=\phi(m)$才成立

证明参考：https://zhuanlan.zhihu.com/p/131536831

# 卡麦歇尔函数(Carmichael Function)
对于任意正整数m，x和m互素，则存在最小的正整数n，使得
$$x^n\equiv 1\pmod m$$
通常记为$n=\operatorname{ord}_m(x)$或$n=\delta_m(x)$，意思是x在模m情况下的阶是n.

记$\lambda(m)=\operatorname{lcm}(\operatorname{ord}_m(x)),1\leq x<m$，
这个$\lambda(m)$即为卡麦歇尔函数
## 如何求$\lambda(m)$
设m是一个大于1的正整数，则

$$
\lambda(m)=
\begin{cases}
\phi(m),&\text{for }m=2,4,p^k,2p^k\text{ where }p\geq 3\text{ is a prime},\\
2^{k-2},&\text{for}\,m=2^k\text{ where }k\geq 3,\\
\operatorname{lcm}\bigl(\lambda(p_1^{k_1},...,p_r^{k_r})\bigr),&\text{for }m=\Pi_{i=1}^rp_i^{k_i}\text{ where }p_i\text{ are distinct primes}.
\end{cases}
$$
(注：当$m=2p^k$时也可以放入第三种情况，这无所谓)

卡麦歇尔函数主要是给出了一个比欧拉函数更加紧凑的循环节

证明参考：https://zhuanlan.zhihu.com/p/603680878