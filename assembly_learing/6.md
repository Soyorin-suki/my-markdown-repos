# 数据处理与内存寻址方式


## 不使用条件语句将字符串转换为大小写
```assembly
ASSUME CS:CODESG,DS:DATASG
DATASG SEGMENT
	DB 'BaSiC'
	DB 'iNfOrMaTiOn'
DATASG ENDS
CODESG SEGMENT
START:
	MOV AX,DATASG
	MOV DS,AX
	MOV BX,0
	MOV CX,5
LOOP1:
	MOV AL,[BX]
	AND AL,11011111B
	MOV [BX],AL
	INC BX
	LOOP LOOP1
	MOV BX,5
	MOV CX,11
LOOP2:
	MOV AL,[BX]
	OR AL,00100000B
	MOV [BX],AL
	INC BX
	LOOP LOOP2

	MOV AX,4C00H
	INT 21H


CODESG ENDS
END START
```

## [SI]与[DI]
- SI(Source Index (源变址寄存器))
- DI(Destination Index (目的变址寄存器))
- SI与DI是和BX功能相近的寄存器
  - SI与DI只能作为16bit的寄存器使用
  - 下面三组指令基于寄存器间接寻址实现了相同的功能
```
MOV BX,0
MOV AX,[BX]

MOV SI,0
MOV AX,[SI]

MOV DI,0
MOV AX,[DI]
```
## 寄存器相对寻址
`[BX+123]`表示的是寄存器相对寻址，地址相当于`(BX)+123`

## 基址变址寻址
`[BX+SI]`表示的是基址变址寻址，地址相当于`(BX)+(SI)`
`MOV AL,[BX+SI]`与`MOV AL,[BX][SI]`是等价的

## 相对基址变址寻址
`[BX+SI+IDATA]`或`[BX+DI+IDATA]`表示的是相对基址变址寻址，地址相当于`(BX)+(SI)+IDATA`

## BX,SI,DI,BP
在`[]`中，这四个寄存器可以单独出现，也可以以四种组合`[BX+SI], [BX+DI], [BP+SI], [BP+DI]`，不允许`[BX+BP], [SI+DI]`

BP默认使用的段地址寄存器为SS

## 更多寻址方式
- 立即寻址
- 寄存器寻址
- 比例变址寻址方式
- 基址比例变址寻址
- 相对基址比例变址寻址
- 段内直接寻址
- 段内间接寻址
- 段间直接寻址
- 段间间接寻址
